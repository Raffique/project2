import{_ as h,r,o as a,c as l,a as t,w as _,F as c,b as p,t as n,d as f,e as u}from"./index.be09d447.js";const m={data(){return{articles:[],csrf_token:""}},created:function(){this.getCsrfToken(),this.cars()},mounted(){this.checklogged()},methods:{view(e){r.push({name:"car",params:{car_id:e}})},cars(){let e=this;fetch("/api/cars",{method:"GET",headers:{"X-CSRFToken":this.csrf_token}}).then(function(s){return s.json()}).then(function(s){e.articles=s.cars})},checklogged(){fetch("/api/loggedIn").then(e=>e.json()).then(e=>{console.log(e),e.id==null?(localStorage.setItem("logged","false"),r.push("login")):localStorage.setItem("logged","true")}).catch(e=>{console.log(e)})},getCsrfToken(){let e=this;fetch("/api/csrf-token").then(s=>s.json()).then(s=>{console.log(s),e.csrf_token=s.csrf_token})}}},g=u('<div class="row mb-2"><div class="col-auto"><div class="form-group"><label for="make">Make</label><input name="make" placeholder="Enter Make" class="form-control explore-field"><label for="make">Model</label><input name="model" placeholder="Enter Model" class="form-control explore-field"><br><button type="button" class="btn btn-success">Search</button></div></div></div>',1),k=[g],v={class:"container-fuild"},b={class:"card",style:{width:"300px",height:"480px"}},x=["src"],y={class:"card-title"},w={class:"card-body"},S={class:"card-title"},C={class:"pricetag"},T={class:"card-text addresstag"},V=t("br",null,null,-1),M=["onClick"],$=t("div",{class:"card-footer footertag"}," View more details ",-1),E=[$];function F(e,s,j,B,i,d){return a(),l(c,null,[t("form",{onSubmit:s[0]||(s[0]=_((...o)=>e.search&&e.search(...o),["prevent"])),id:"searchForm",method:"POST"},k,32),t("div",v,[(a(!0),l(c,null,p(i.articles,o=>(a(),l("div",{key:o,style:{display:"inline-block",margin:"10px"}},[t("div",b,[t("img",{style:{width:"300px",height:"200px"},src:`/api/uploads/${o.photo.split("/t")[0]}`,alt:"Card image"},null,8,x),t("h5",y,n(o.title),1),t("div",w,[t("h5",S,[f(n(o.year)+" "+n(o.make)+" ",1),t("div",C,"$"+n(o.price),1)]),t("span",T,n(o.model),1),V]),t("div",{onClick:I=>d.view(o.id),style:{"text-decoration-line":"none"}},E,8,M)])]))),128))])],64)}var H=h(m,[["render",F]]);export{H as default};
