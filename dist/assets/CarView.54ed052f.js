import{_ as r,o as c,c as a,a as t,t as s}from"./index.56eeb11b.js";const d={props:["car_id"],data(){return{csrf_token:"",article:Object}},mounted(){this.article.liked?document.getElementById("heart").style.color="red":document.getElementById("heart").style.color="grey"},created(){this.getCsrfToken(),this.car()},methods:{email(){alert("Owner currently unavailable!")},car(){let n=this;fetch(`/api/cars/${this.car_id}`,{method:"GET",headers:{"X-CSRFToken":this.csrf_token}}).then(function(e){return e.json()}).then(function(e){n.article=e.car,n.article.liked=e.liked!=null}).catch(function(e){console.log(e)})},like_this_car(n){fetch(`../api/cars/${n}/favourite`,{method:"POST",headers:{"X-CSRFToken":this.csrf_token}}).then(function(e){return e.json()}).then(function(e){e.status==200&&(alert("You liked this car!"),document.getElementById("heart").style.color="red")}).catch(function(e){console.log(e)})},getCsrfToken(){let n=this;fetch("/api/csrf-token").then(e=>e.json()).then(e=>{console.log(e),n.csrf_token=e.csrf_token})}}},h={style:{width:"1400px",height:"480px",border:"2px solid grey"}},p={style:{display:"flex"}},_={style:{width:"680px",height:"480px"}},y=["src"],m={class:"",style:{width:"680px",height:"480px",padding:"20px"}},u={class:""},f={class:""},g={style:{display:"inline-block"}},x={style:{margin:"10px","max-height":"210px","margin-top":"50px"}},k={style:{display:"inline-block",margin:"10px"}},v={style:{display:"inline-block",margin:"10px"}},b={style:{margin:"5px"}},w={style:{display:"inline-block",margin:"10px"}},C={style:{display:"inline-block",margin:"10px"}};function T(n,e,B,E,i,l){return c(),a("div",{key:i.article,style:{margin:"25px"}},[t("div",h,[t("div",p,[t("div",_,[t("img",{style:{width:"678px",height:"478px"},src:`/api/uploads/${i.article.photo.split("/t")[0]}`,alt:"Image of Property"},null,8,y)]),t("div",m,[t("div",u,[t("h5",f,s(i.article.year)+" "+s(i.article.make),1),t("div",null,[t("div",g,s(i.article.model),1)]),t("p",x,s(i.article.description),1),t("div",null,[t("div",k,"Color "+s(i.article.colour),1),t("div",v,"Body Type "+s(i.article.car_type),1)]),t("div",b,[t("span",w,"Price "+s(i.article.price),1),t("span",C,"Transmission "+s(i.article.transmission),1)]),t("button",{class:"btn btn-success",style:{margin:"10px"},onClick:e[0]||(e[0]=o=>l.email())},"Email Owner"),t("button",{id:"heart",style:{display:"inline-block",margin:"10px","margin-left":"450px",color:"red",width:"40px",height:"40px","border-radius":"20px","font-size":"20px"},onClick:e[1]||(e[1]=o=>l.like_this_car(i.article.id))}," \u2764 ")])])])])])}var I=r(d,[["render",T]]);export{I as default};
