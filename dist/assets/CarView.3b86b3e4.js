import{_ as o,o as c,c as a,a as e,t as l}from"./index.4ec954c3.js";const h={props:["car_id"],data(){return{csrf_token:"",article:Object}},mounted(){this.article.liked?document.getElementById("heart").style.color="red":document.getElementById("heart").style.color="grey"},created(){this.getCsrfToken(),this.car()},methods:{email(){alert("Owner currently unavailable!")},change_pic(i){this.article.idx==this.article.len-1&&i==1?(this.article.img="/api/uploads/"+this.article.photo.split("/t")[0],this.article.idx=0):this.article.idx==0&&i==-1?(this.article.idx=this.article.len-1,this.article.img="/api/uploads/"+this.article.photo.split("/t")[this.article.idx]):(this.article.idx=this.article.idx+i,this.article.img="/api/uploads/"+this.article.photo.split("/t")[this.article.idx])},car(){let i=this;fetch(`/api/cars/${this.car_id}`,{method:"GET",headers:{"X-CSRFToken":this.csrf_token}}).then(function(t){return t.json()}).then(function(t){i.article=t.car,i.article.len=t.car.photo.split("/t").length,i.article.idx=0,i.article.img="/api/uploads/"+t.car.photo.split("/t")[0],i.article.liked=t.liked!=null}).catch(function(t){console.log(t)})},like_this_car(i){fetch(`/api/cars/${i}/favourite`,{method:"POST",headers:{"X-CSRFToken":this.csrf_token}}).then(function(t){return t.json()}).then(function(t){t.status==200&&(alert("You liked this car!"),document.getElementById("heart").style.color="red")}).catch(function(t){console.log(t)})},getCsrfToken(){let i=this;fetch("/api/csrf-token").then(t=>t.json()).then(t=>{console.log(t),i.csrf_token=t.csrf_token})}}},d={style:{width:"1400px",height:"480px",border:"2px solid grey"}},p={style:{display:"flex"}},_={style:{width:"680px",height:"480px"}},g=["src"],x={class:"",style:{width:"680px",height:"480px",padding:"20px"}},y={class:""},m={class:""},u={style:{display:"inline-block"}},f={style:{margin:"10px","max-height":"210px","margin-top":"50px"}},k={style:{display:"inline-block",margin:"10px"}},v={style:{display:"inline-block",margin:"10px"}},b={style:{margin:"5px"}},C={style:{display:"inline-block",margin:"10px"}},w={style:{display:"inline-block",margin:"10px"}};function T(i,t,B,E,s,r){return c(),a("div",{key:s.article,style:{margin:"25px"}},[e("div",d,[e("div",p,[e("div",_,[e("button",{onClick:t[0]||(t[0]=n=>r.change_pic(-1))},"\u2039"),e("img",{style:{width:"678px",height:"478px"},src:s.article.img,alt:"Image of Property"},null,8,g),e("button",{onClick:t[1]||(t[1]=n=>r.change_pic(1))},"\u203A")]),e("div",x,[e("div",y,[e("h5",m,l(s.article.year)+" "+l(s.article.make),1),e("div",null,[e("div",u,l(s.article.model),1)]),e("p",f,l(s.article.description),1),e("div",null,[e("div",k,"Color "+l(s.article.colour),1),e("div",v,"Body Type "+l(s.article.car_type),1)]),e("div",b,[e("span",C,"Price "+l(s.article.price),1),e("span",w,"Transmission "+l(s.article.transmission),1)]),e("button",{class:"btn btn-success",style:{margin:"10px"},onClick:t[2]||(t[2]=n=>r.email())},"Email Owner"),e("button",{id:"heart",style:{display:"inline-block",margin:"10px","margin-left":"450px",color:"gray",width:"40px",height:"40px","border-radius":"20px","font-size":"20px"},onClick:t[3]||(t[3]=n=>r.like_this_car(s.article.id))}," \u2764 ")])])])])])}var I=o(h,[["render",T]]);export{I as default};
