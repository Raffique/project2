import{_ as c,o as a,c as p,a as e,t as l,n as h}from"./index.edeeba66.js";const d={props:["car_id"],data(){return{csrf_token:"",article:Object,like:"black"}},mounted(){},created(){this.getCsrfToken(),this.car()},methods:{email(){alert("Owner currently unavailable!")},change_pic(t){this.article.idx==this.article.len-1&&t==1?(this.article.img="/api/uploads/"+this.article.photo.split("/t")[0],this.article.idx=0):this.article.idx==0&&t==-1?(this.article.idx=this.article.len-1,this.article.img="/api/uploads/"+this.article.photo.split("/t")[this.article.idx]):(this.article.idx=this.article.idx+t,this.article.img="/api/uploads/"+this.article.photo.split("/t")[this.article.idx])},car(){let t=this;fetch(`/api/cars/${this.car_id}`,{method:"GET",headers:{"X-CSRFToken":this.csrf_token}}).then(function(i){return i.json()}).then(function(i){t.article=i.car,t.article.len=i.car.photo.split("/t").length,t.article.idx=0,t.article.img="/api/uploads/"+i.car.photo.split("/t")[0],t.article.liked=i.liked,t.article.liked?(console.log("red"),t.like="red"):(console.log("gray"),t.like="black")}).catch(function(i){console.log(i)})},like_this_car(t){let i=this;fetch(`/api/cars/${t}/favourite`,{method:"POST",headers:{"X-CSRFToken":this.csrf_token}}).then(function(o){return o.json()}).then(function(o){o.status==200?(alert("You liked this car!"),i.like="red"):o.status==-200&&(alert("You unliked this car"),i.like="black")}).catch(function(o){console.log(o)})},getCsrfToken(){let t=this;fetch("/api/csrf-token").then(i=>i.json()).then(i=>{console.log(i),t.csrf_token=i.csrf_token})}}},_={style:{width:"1400px",height:"480px",border:"2px solid grey"}},x={style:{display:"flex"}},g={style:{width:"680px",height:"480px"}},k=["src"],f={class:"",style:{width:"680px",height:"480px",padding:"20px"}},u={class:""},y={class:""},m={style:{display:"inline-block"}},v={style:{margin:"10px","max-height":"210px","margin-top":"50px"}},b={style:{display:"inline-block",margin:"10px"}},C={style:{display:"inline-block",margin:"10px"}},w={style:{margin:"5px"}},T={style:{display:"inline-block",margin:"10px"}},S={style:{display:"inline-block",margin:"10px"}};function j(t,i,o,B,s,r){return a(),p("div",{key:s.article,style:{margin:"25px"}},[e("div",_,[e("div",x,[e("div",g,[e("button",{class:"clickers",style:{position:"absolute",top:"300px","margin-left":"15px"},onClick:i[0]||(i[0]=n=>r.change_pic(-1))},"\u2039"),e("button",{class:"clickers",style:{position:"absolute",top:"300px","margin-left":"605px"},onClick:i[1]||(i[1]=n=>r.change_pic(1))},"\u203A"),e("img",{style:{width:"678px",height:"478px"},src:s.article.img,alt:"Image of Property"},null,8,k)]),e("div",f,[e("div",u,[e("h5",y,l(s.article.year)+" "+l(s.article.make),1),e("div",null,[e("div",m,l(s.article.model),1)]),e("p",v,l(s.article.description),1),e("div",null,[e("div",b,"Color "+l(s.article.colour),1),e("div",C,"Body Type "+l(s.article.car_type),1)]),e("div",w,[e("span",T,"Price "+l(s.article.price),1),e("span",S,"Transmission "+l(s.article.transmission),1)]),e("button",{class:"btn btn-success",style:{margin:"10px"},onClick:i[2]||(i[2]=n=>r.email())},"Email Owner"),e("button",{id:"heart",style:h([{display:"inline-block",margin:"10px","margin-left":"450px",width:"40px",height:"40px","border-radius":"20px","font-size":"20px"},{color:s.like}]),onClick:i[3]||(i[3]=n=>r.like_this_car(s.article.id))}," \u2764 ",4)])])])])])}var E=c(d,[["render",j]]);export{E as default};
